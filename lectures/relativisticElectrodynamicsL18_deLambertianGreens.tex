%
% Copyright Â© 2012 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%
%\chapter{Proof of the d'Alembertian Green's function}

Our Prof is excellent at motivating any results that he pulls out of magic hats.  He is said that he is included a derivation using Fourier transforms and tricky contour integration arguments in the class notes for anybody who is interested (and for those who also know how to do contour integration).  For those who do not know contour integration yet (some people are taking it concurrently), one can actually prove this by simply applying the wave equation operator to this function.  This treats the delta function as a normal function that one can take the derivatives of, something that can be well defined in the context of generalized functions.  Chugging ahead with this approach we have

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:110}
\square G(\Bx, t)
=
\left(\inv{c^2} \PDSq{t}{} - \Delta\right)
\frac{\delta\left(t - \frac{\Abs{\Bx}}{c}\right)}{4 \pi \Abs{\Bx} }
=
\frac{\delta''\left(t - \frac{\Abs{\Bx}}{c}\right)}{4 \pi c^2 \Abs{\Bx} }
- \Delta \frac{\delta\left(t - \frac{\Abs{\Bx}}{c}\right)}{4 \pi \Abs{\Bx} }.
\end{equation}

This starts things off and now things get a bit hairy.  It is helpful to consider a chain rule expansion of the Laplacian

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:760}
\begin{aligned}
\Delta (u v)
&=
\partial_{\alpha\alpha} (u v) \\
&=
\partial_{\alpha} (
v \partial_\alpha u
+ u\partial_\alpha v
) \\
&=
(\partial_\alpha v) (\partial_\alpha u ) + v \partial_{\alpha\alpha} u
+(\partial_\alpha u) (\partial_\alpha v ) + u \partial_{\alpha\alpha} v
).
\end{aligned}
\end{equation}

In vector form this is

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:130}
\Delta (u v) = u \Delta v + 2 (\spacegrad u) \cdot (\spacegrad v) + v \Delta u.
\end{equation}

Applying this to the Laplacian portion of \eqnref{eqn:relativisticElectrodynamicsL18:110} we have

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:131}
\begin{aligned}
\Delta \frac{\delta\left(t - \frac{\Abs{\Bx}}{c}\right)}{4 \pi \Abs{\Bx} }
&=
\delta\left(t - \frac{\Abs{\Bx}}{c}\right)
\Delta
\inv{4 \pi \Abs{\Bx} } \\
&+\left(\spacegrad \inv{2 \pi \Abs{\Bx} }\right)
\cdot
\left(
\spacegrad
\delta\left(t - \frac{\Abs{\Bx}}{c}\right) \right)
+
\inv{4 \pi \Abs{\Bx} }
\Delta
\delta\left(t - \frac{\Abs{\Bx}}{c}\right).
\end{aligned}
\end{equation}

Here we make the identification

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:132}
\Delta \inv{4 \pi \Abs{\Bx} } = - \delta^3(\Bx).
\end{equation}

This could be considered a given from our knowledge of electrostatics, but it is not too much work to just do so.

\section{An aside.  Proving the Laplacian Green's function}
\index{Laplacian!Green's function}

If \(-1/{4 \pi \Abs{\Bx} }\) is a Green's function for the Laplacian, then the Laplacian of the convolution of this with a test function should recover that test function

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:133}
\Delta \int d^3 \Bx' \left(-\inv{4 \pi \Abs{\Bx - \Bx'} } \right) f(\Bx') = f(\Bx).
\end{equation}

We can directly evaluate the LHS of this equation, following the approach in \citep{schwartz1987pe}.  First note that the Laplacian can be pulled into the integral and operates only on the presumed Green's function.  For that operation we have

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:134}
\Delta \left(-\inv{4 \pi \Abs{\Bx - \Bx'} } \right)
=
-\inv{4 \pi} \spacegrad \cdot \spacegrad \Abs{\Bx - \Bx'}.
\end{equation}

It will be helpful to compute the gradient of various powers of \(\Abs{\Bx}\)

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:780}
\begin{aligned}
\spacegrad \Abs{\Bx}^a
&=
e_\alpha \partial_\alpha (x^\beta x^\beta)^{a/2} \\
&=
e_\alpha \left(\frac{a}{2}\right) 2 x^\beta {\delta_\beta}^\alpha \Abs{\Bx}^{a - 2}.
\end{aligned}
\end{equation}

In particular we have, when \(\Bx \ne 0\), this gives us

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:135}
\begin{aligned}
\spacegrad \Abs{\Bx} &= \frac{\Bx}{\Abs{\Bx}} \\
\spacegrad \inv{\Abs{\Bx}} &= -\frac{\Bx}{\Abs{\Bx}^3} \\
\spacegrad \inv{\Abs{\Bx}^3} &= -3 \frac{\Bx}{\Abs{\Bx}^5}.
\end{aligned}
\end{equation}

For the Laplacian of \(1/\Abs{\Bx}\), at the points \(\Be \ne 0\) where this is well defined we have

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:800}
\begin{aligned}
\Delta \inv{\Abs{\Bx}}
&=
\spacegrad \cdot \spacegrad \inv{\Abs{\Bx}} \\
&=
-\partial_\alpha \frac{x^\alpha}{\Abs{\Bx}^3} \\
&=
-\frac{3}{\Abs{\Bx}^3}
- x^\alpha \partial_\alpha \frac{1}{\Abs{\Bx}^3} \\
&=
-\frac{3}{\Abs{\Bx}^3}
- \Bx \cdot \spacegrad \frac{1}{\Abs{\Bx}^3} \\
&=
-\frac{3}{\Abs{\Bx}^3}
+ 3 \frac{\Bx^2}{\Abs{\Bx}^5}
\end{aligned}
\end{equation}

So we have a zero.  This means that the Laplacian operation

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:300}
\Delta \int d^3 \Bx' \inv{\Abs{\Bx - \Bx'} } f(\Bx')
=
\lim_{\epsilon = \Abs{\Bx -\Bx'} \rightarrow 0}
f(\Bx) \int d^3 \Bx' \Delta \inv{\Abs{\Bx - \Bx'}},
\end{equation}

can only have a value in a neighborhood of point \(\Bx\).  Writing \(\Delta = \spacegrad \cdot \spacegrad\) we have

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:320}
\Delta \int d^3 \Bx' \inv{\Abs{\Bx - \Bx'} } f(\Bx')
=
\lim_{\epsilon = \Abs{\Bx -\Bx'} \rightarrow 0}
f(\Bx) \int d^3 \Bx' \spacegrad \cdot -\frac{\Bx - \Bx'}{\Abs{\Bx - \Bx'}}.
\end{equation}

Observing that \(\spacegrad \cdot f(\Bx -\Bx') = -\spacegrad' f(\Bx - \Bx')\) we can put this in a form that allows for use of Stokes theorem so that we can convert this to a surface integral

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:820}
\begin{aligned}
\Delta \int d^3 \Bx' \inv{\Abs{\Bx - \Bx'} } f(\Bx')
&=
\lim_{\epsilon = \Abs{\Bx -\Bx'} \rightarrow 0}
f(\Bx) \int d^3 \Bx' \spacegrad' \cdot \frac{\Bx - \Bx'}{\Abs{\Bx - \Bx'}^3} \\
&=
\lim_{\epsilon = \Abs{\Bx -\Bx'} \rightarrow 0}
f(\Bx) \int d^2 \Bx' \Bn \cdot \frac{\Bx - \Bx'}{\Abs{\Bx - \Bx'}^3} \\
&= \int_{\phi=0}^{2\pi} \int_{\theta = 0}^\pi \epsilon^2 \sin\theta d\theta d\phi
\frac{\Bx' - \Bx}{\Abs{\Bx - \Bx'}} \cdot \frac{\Bx - \Bx'}{\Abs{\Bx - \Bx'}^3} \\
&= -\int_{\phi=0}^{2\pi} \int_{\theta = 0}^\pi \epsilon^2 \sin\theta d\theta d\phi \frac{\epsilon^2}{\epsilon^4}
\end{aligned}
\end{equation}

where we use \((\Bx' - \Bx)/\Abs{\Bx' - \Bx}\) as the outwards normal for a sphere centered at \(\Bx\) of radius \(\epsilon\).  This integral is just \(-4 \pi\), so we have

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:360}
\Delta \int d^3 \Bx' \inv{-4 \pi \Abs{\Bx - \Bx'} } f(\Bx')
=
f(\Bx).
\end{equation}

The convolution of \(f(\Bx)\) with \(-\Delta/4 \pi \Abs{\Bx}\) produces \(f(\Bx)\), allowing an identification of this function with a delta function, since the two have the same operational effect
\begin{equation}\label{eqn:relativisticElectrodynamicsL18:380}
\int d^3 \Bx' \delta(\Bx - \Bx') f(\Bx')
=
f(\Bx).
\end{equation}

\section{Returning to the d'Alembertian Green's function}
\index{d'Alembertian!Green's function}

We need two additional computations to finish the job.  The first is the gradient of the delta function

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:840}
\begin{aligned}
\spacegrad \delta\left(t - \frac{\Abs{\Bx}}{c}\right) &= ? \\
\Delta \delta\left(t - \frac{\Abs{\Bx}}{c}\right) &= ?
\end{aligned}
\end{equation}

Consider \(\spacegrad f(g(\Bx))\).  This is

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:860}
\begin{aligned}
\spacegrad f(g(\Bx))
&=
e_\alpha \PD{x^\alpha}{f(g(\Bx))} \\
&=
e_\alpha \PD{g}{f} \PD{x^\alpha}{g},
\end{aligned}
\end{equation}

so we have
\begin{equation}\label{eqn:relativisticElectrodynamicsL18:400}
\spacegrad f(g(\Bx))
=
\PD{g}{f} \spacegrad g.
\end{equation}

The Laplacian is similar

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:880}
\begin{aligned}
\Delta f(g)
&=
\spacegrad \cdot \left(\PD{g}{f} \spacegrad g \right) \\
&=
\partial_\alpha \left(\PD{g}{f} \partial_\alpha g \right) \\
&=
\left( \partial_\alpha \PD{g}{f} \right) \partial_\alpha g
+\PD{g}{f} \partial_{\alpha\alpha} g  \\
&=
\PDSq{g}{f} \left( \partial_\alpha g \right) (\partial_\alpha g)
+\PD{g}{f} \Delta g,
\end{aligned}
\end{equation}

so we have

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:420}
\Delta f(g)
=
\PDSq{g}{f} (\spacegrad g)^2 +\PD{g}{f} \Delta g
\end{equation}

With \(g(\Bx) = \Abs{\Bx}\), we will need the Laplacian of this vector magnitude

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:900}
\begin{aligned}
\Delta \Abs{\Bx}
&=
\partial_\alpha \frac{x_\alpha}{\Abs{\Bx}} \\
&=
\frac{3}{\Abs{\Bx}}
+ x_\alpha \partial_\alpha (x^\beta x^\beta)^{-1/2} \\
&=
\frac{3}{\Abs{\Bx}}
- \frac{x_\alpha x_\alpha}{\Abs{\Bx}^3} \\
&= \frac{2}{\Abs{\Bx}}
\end{aligned}
\end{equation}

So that we have

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:440}
\begin{aligned}
\spacegrad \delta\left(t - \frac{\Abs{\Bx}}{c}\right) &=
-\inv{c} \delta'\left(t - \frac{\Abs{\Bx}}{c}\right) \frac{\Bx}{\Abs{\Bx}} \\
\Delta \delta\left(t - \frac{\Abs{\Bx}}{c}\right) &=
\inv{c^2} \delta''\left(t - \frac{\Abs{\Bx}}{c}\right) -\inv{c} \delta'\left(t - \frac{\Abs{\Bx}}{c}\right) \frac{2}{\Abs{\Bx}}
\end{aligned}
\end{equation}

Now we have all the bits and pieces of \eqnref{eqn:relativisticElectrodynamicsL18:131} ready to assemble

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:920}
\begin{aligned}
\Delta \frac{\delta\left(t - \frac{\Abs{\Bx}}{c}\right)}{4 \pi \Abs{\Bx} }
&=
-\delta\left(t - \frac{\Abs{\Bx}}{c}\right) \delta^3(\Bx) \\
&\quad +\inv{2\pi} \left( - \frac{\Bx}{\Abs{\Bx}^3} \right)
\cdot
-\inv{c} \delta'\left(t - \frac{\Abs{\Bx}}{c}\right) \frac{\Bx}{\Abs{\Bx}} \\
&\quad +
\inv{4 \pi \Abs{\Bx} }
\left(
\inv{c^2} \delta''\left(t - \frac{\Abs{\Bx}}{c}\right) -\inv{c} \delta'\left(t - \frac{\Abs{\Bx}}{c}\right) \frac{2}{\Abs{\Bx}} \right) \\
&=
-\delta\left(t - \frac{\Abs{\Bx}}{c}\right) \delta^3(\Bx)
+\inv{4 \pi \Abs{\Bx} c^2 }
\delta''\left(t - \frac{\Abs{\Bx}}{c}\right)
\end{aligned}
\end{equation}

Since we also have

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:500}
\inv{c^2} \partial_{tt}
\frac{\delta\left(t - \frac{\Abs{\Bx}}{c}\right)}{4 \pi \Abs{\Bx} }
=
\frac{\delta''\left(t - \frac{\Abs{\Bx}}{c}\right)}{4 \pi \Abs{\Bx} c^2}
\end{equation}

The \(\delta''\) terms cancel out in the d'Alembertian, leaving just

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:460}
\square \frac{\delta\left(t - \frac{\Abs{\Bx}}{c}\right)}{4 \pi \Abs{\Bx} }
=
\delta\left(t - \frac{\Abs{\Bx}}{c}\right) \delta^3(\Bx)
\end{equation}

Noting that the spatial delta function is non-zero only when \(\Bx = 0\), which means \(\delta(t - \Abs{\Bx}/c) = \delta(t)\) in this product, and we finally have

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:480}
\square \frac{\delta\left(t - \frac{\Abs{\Bx}}{c}\right)}{4 \pi \Abs{\Bx} }
=
\delta(t) \delta^3(\Bx)
\end{equation}

We write

\begin{equation}\label{eqn:relativisticElectrodynamicsL18:520}
G(\Bx, t) = \frac{\delta\left(t - \frac{\Abs{\Bx}}{c}\right)}{4 \pi \Abs{\Bx} },
\end{equation}
